



<div class="layout-container">
  <!-- Desktop Sidebar -->
  <div *ngIf="isSidebarOpen" class="sidebar-container">
    <div class="sidebar-content">
      <!-- Fixed Header -->
      <div class="sidebar-header">
        <span class="brand-text">
          <span class="text-primary">FreelanceHub</span>
        </span>
        <button
          (click)="toggle()"
          class="collapse-btn"
          pTooltip="Collapse sidebar">
          <i class="pi pi-angle-left"></i>
        </button>
      </div>

      <!-- Scrollable Menu Area -->
      <div class="sidebar-menu-container">
        <p-menu [model]="items" styleClass="sidebar-menu">
          <ng-template #submenuheader let-item>
            <span class="submenu-header">
              {{ item.label }}
            </span>
          </ng-template>

          <ng-template #item let-item>
            <ng-container *ngIf="!item.separator">
              <a
                *ngIf="item.routerLink; else commandTemplate"
                pRipple
                class="menu-item-link"
                [class.active-menu-item]="router.url.includes(item.routerLink)"
                [routerLink]="item.routerLink"
                [queryParams]="item.queryParams"
                (click)="navigateToRoute(item)"
                pTooltip="{{ item.label }}">
                <span [class]="item.icon" class="menu-icon"></span>
                <span class="menu-label">{{ item.label }}</span>
                <p-badge
                  *ngIf="item.badge"
                  class="menu-badge"
                  [value]="item.badge"
                  severity="danger" />
              </a>

              <ng-template #commandTemplate>
                <button
                  *ngIf="item.command"
                  pRipple
                  class="menu-item-link command-button"
                  (click)="item.command()"
                  pTooltip="{{ item.label }}">
                  <span [class]="item.icon" class="menu-icon"></span>
                  <span class="menu-label">{{ item.label }}</span>
                  <p-badge
                    *ngIf="item.badge"
                    class="menu-badge"
                    [value]="item.badge"
                    severity="danger" />
                </button>
              </ng-template>
            </ng-container>
          </ng-template>
        </p-menu>
      </div>

      <!-- Fixed Footer -->
      <div class="sidebar-footer">
        <div class="user-profile-section">
          <button
            pRipple
            class="user-profile-btn"
            [routerLink]="['/dashboard/profile']"
            pTooltip="View Profile">
<!--         -->
            <div class="user-info">
              <span class="user-name">{{ userName | titlecase }}</span>
              <span
                class="user-type"
                [class.client-type]="isClient"
                [class.freelancer-type]="isFreelancer">
                {{ userType | titlecase }}
              </span>
            </div>
            <i class="pi pi-user user-arrow"></i>
          </button>

          <button
            pRipple
            class="logout-btn"
            (click)="onLogout()"
            pTooltip="Logout">
            <i class="pi pi-sign-out"></i>
            <span>Logout</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <div
    class="main-content"
    [class.sidebar-open]="isSidebarOpen"
    [class.sidebar-closed]="!isSidebarOpen">

    <!-- Collapsed Sidebar Toggle -->
    <div *ngIf="!isSidebarOpen" class="collapsed-toggle">
      <button
        (click)="toggle()"
        class="expand-btn"
        pTooltip="Expand sidebar">
        <i class="pi pi-bars"></i>
      </button>
    </div>

    <!-- Page Content -->
    <div class="page-content">
      <router-outlet />
    </div>
  </div>
</div>

<!-- Confirmation Dialog -->
<p-confirmDialog></p-confirmDialog>

<!-- Toast Messages -->
<p-toast></p-toast>
